<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Tools.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of class attributes" rel=Appendix href="index_attributes.html">
<link title="Index of class methods" rel=Appendix href="index_methods.html">
<link title="Index of classes" rel=Appendix href="index_classes.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Cuda" rel="Chapter" href="Cuda.html">
<link title="Devices" rel="Chapter" href="Devices.html">
<link title="Kernel" rel="Chapter" href="Kernel.html">
<link title="Mem" rel="Chapter" href="Mem.html">
<link title="OpenCL" rel="Chapter" href="OpenCL.html">
<link title="Tools" rel="Chapter" href="Tools.html">
<link title="Vector" rel="Chapter" href="Vector.html"><title>Vector</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Tools.html" title="Tools">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;</div>
<h1>Module <a href="type_Vector.html">Vector</a></h1>

<pre><span class="keyword">module</span> Vector: <code class="code">sig</code> <a href="Vector.html">..</a> <code class="code">end</code></pre><div class="info module top">
Manages Spoc vectors<br>
</div>
<hr width="100%">
<br>
Manages Spoc vectors<br>

<pre><span id="TYPEdevice_vec"><span class="keyword">type</span> <code class="type"></code>device_vec</span> </pre>


<pre><span id="TYPEcustomarray"><span class="keyword">type</span> <code class="type"></code>customarray</span> </pre>


<pre><code><span id="TYPEcustom"><span class="keyword">type</span> <code class="type">'a</code> custom</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTcustom.elt">elt</span>&nbsp;: <code class="type">'a</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" >an element of the vector</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTcustom.size">size</span>&nbsp;: <code class="type">int</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" >the size of an element when transfered to a gpgpu device</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTcustom.get">get</span>&nbsp;: <code class="type"><a href="Vector.html#TYPEcustomarray">customarray</a> -> int -> 'a</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" >a function to access elements from the vector</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTcustom.set">set</span>&nbsp;: <code class="type"><a href="Vector.html#TYPEcustomarray">customarray</a> -> int -> 'a -> unit</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" >a function to modify an element of the vector</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>
}

<div class="info ">
Spoc offers many predefined vectors types.
Custom vectors can contain any kind of data types.<br>
</div>

<br>
Some predifined types<br>

<pre><span id="TYPEcouple"><span class="keyword">type</span> <code class="type">('a, 'b)</code> couple</span> = <code class="type">'a * 'b</code> </pre>


<pre><code><span id="TYPEkind"><span class="keyword">type</span> <code class="type">('a, 'b)</code> kind</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTkind.Float32"><span class="constructor">Float32</span></span> <span class="keyword">of</span> <code class="type">('a, 'b) Bigarray.kind</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTkind.Char"><span class="constructor">Char</span></span> <span class="keyword">of</span> <code class="type">('a, 'b) Bigarray.kind</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTkind.Float64"><span class="constructor">Float64</span></span> <span class="keyword">of</span> <code class="type">('a, 'b) Bigarray.kind</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTkind.Int32"><span class="constructor">Int32</span></span> <span class="keyword">of</span> <code class="type">('a, 'b) Bigarray.kind</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTkind.Int64"><span class="constructor">Int64</span></span> <span class="keyword">of</span> <code class="type">('a, 'b) Bigarray.kind</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTkind.Complex32"><span class="constructor">Complex32</span></span> <span class="keyword">of</span> <code class="type">('a, 'b) Bigarray.kind</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTkind.Custom"><span class="constructor">Custom</span></span> <span class="keyword">of</span> <code class="type">'a <a href="Vector.html#TYPEcustom">custom</a></code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTkind.Unit"><span class="constructor">Unit</span></span> <span class="keyword">of</span> <code class="type">('a, 'b) <a href="Vector.html#TYPEcouple">couple</a></code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTkind.Dummy"><span class="constructor">Dummy</span></span> <span class="keyword">of</span> <code class="type">('a, 'b) <a href="Vector.html#TYPEcouple">couple</a></code></code></td>

</tr></table>


<br>
shortcuts<br>

<pre><span id="VALint"><span class="keyword">val</span> int</span> : <code class="type">(int, Bigarray.int_elt) <a href="Vector.html#TYPEkind">kind</a></code></pre>
<pre><span id="VALint32"><span class="keyword">val</span> int32</span> : <code class="type">(int32, Bigarray.int32_elt) <a href="Vector.html#TYPEkind">kind</a></code></pre>
<pre><span id="VALchar"><span class="keyword">val</span> char</span> : <code class="type">(char, Bigarray.int8_unsigned_elt) <a href="Vector.html#TYPEkind">kind</a></code></pre>
<pre><span id="VALint64"><span class="keyword">val</span> int64</span> : <code class="type">(int64, Bigarray.int64_elt) <a href="Vector.html#TYPEkind">kind</a></code></pre>
<pre><span id="VALfloat32"><span class="keyword">val</span> float32</span> : <code class="type">(float, Bigarray.float32_elt) <a href="Vector.html#TYPEkind">kind</a></code></pre>
<pre><span id="VALfloat64"><span class="keyword">val</span> float64</span> : <code class="type">(float, Bigarray.float64_elt) <a href="Vector.html#TYPEkind">kind</a></code></pre>
<pre><span id="VALcomplex32"><span class="keyword">val</span> complex32</span> : <code class="type">(Complex.t, Bigarray.complex32_elt) <a href="Vector.html#TYPEkind">kind</a></code></pre>
<pre><code><span id="TYPEspoc_vec"><span class="keyword">type</span> <code class="type">('a, 'b)</code> spoc_vec</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTspoc_vec.Bigarray"><span class="constructor">Bigarray</span></span> <span class="keyword">of</span> <code class="type">('a, 'b, Bigarray.c_layout) Bigarray.Array1.t</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTspoc_vec.CustomArray"><span class="constructor">CustomArray</span></span> <span class="keyword">of</span> <code class="type">(<a href="Vector.html#TYPEcustomarray">customarray</a> * 'a <a href="Vector.html#TYPEcustom">custom</a>)</code></code></td>

</tr></table>

<div class="info ">
a spoc_vector is a Bigarray or a custom  vector<br>
</div>


<pre><code><span id="TYPEvec_device"><span class="keyword">type</span> <code class="type"></code>vec_device</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTvec_device.No_dev"><span class="constructor">No_dev</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTvec_device.Dev"><span class="constructor">Dev</span></span> <span class="keyword">of</span> <code class="type">Spoc.Devices.device</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTvec_device.Transferring"><span class="constructor">Transferring</span></span> <span class="keyword">of</span> <code class="type">Spoc.Devices.device</code></code></td>

</tr></table>



<pre><span id="TYPEvector"><span class="keyword">type</span> <code class="type">('a, 'b)</code> vector</span> </pre>
<div class="info ">
a vector  represents every information needed by Spoc to manage it
 It uses Bigarrays to manage data on the cpu side (see the OCaml Bigarray Module for more informations)<br>
</div>


<pre><span id="TYPEsub"><span class="keyword">type</span> <code class="type">('a, 'b)</code> sub</span> = <code class="type">int * int * int * int * ('a, 'b) <a href="Vector.html#TYPEvector">vector</a></code> </pre>
<div class="info ">
sub vectors are vector parts sharing memory space on cpu memory BUT not on gpu memory, 
allowing easy computation distribution over multiple GPUs.
 sub-vector : sub_vector depth * start * ok range * ko range * parent vector (see samples for more info)<br>
</div>


<pre><span id="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">('a, 'b) <a href="Vector.html#TYPEkind">kind</a> -><br>       ?dev:Spoc.Devices.device -> int -> ('a, 'b) <a href="Vector.html#TYPEvector">vector</a></code></pre><div class="info ">
<b>Returns</b> a new vector.
<p>
the length of a given vector<br>
</div>

<pre><span id="VALlength"><span class="keyword">val</span> length</span> : <code class="type">('a, 'b) <a href="Vector.html#TYPEvector">vector</a> -> int</code></pre>
<pre><span id="VALdev"><span class="keyword">val</span> dev</span> : <code class="type">('a, 'b) <a href="Vector.html#TYPEvector">vector</a> -> <a href="Vector.html#TYPEvec_device">vec_device</a></code></pre><div class="info ">
<b>Returns</b> the device where the given vector is located<br>
</div>

<pre><span id="VALis_sub"><span class="keyword">val</span> is_sub</span> : <code class="type">('a, 'b) <a href="Vector.html#TYPEvector">vector</a> -> ('a, 'b) <a href="Vector.html#TYPEsub">sub</a> option</code></pre><div class="info ">
checks if a vector is a subvector<br>
</div>

<pre><span id="VALkind"><span class="keyword">val</span> kind</span> : <code class="type">('a, 'b) <a href="Vector.html#TYPEvector">vector</a> -> ('a, 'b) <a href="Vector.html#TYPEkind">kind</a></code></pre><div class="info ">
<b>Returns</b> the kind of a vector<br>
</div>

<pre><span id="VALdevice"><span class="keyword">val</span> device</span> : <code class="type">('a, 'b) <a href="Vector.html#TYPEvector">vector</a> -> int</code></pre><div class="info ">
<b>Returns</b> the device id where the given vector is located<br>
</div>

<pre><span id="VALequals"><span class="keyword">val</span> equals</span> : <code class="type">('a, 'b) <a href="Vector.html#TYPEvector">vector</a> -> ('a, 'b) <a href="Vector.html#TYPEvector">vector</a> -> bool</code></pre><div class="info ">
checks equality between two vectors<br>
</div>

<pre><span id="VALvseek"><span class="keyword">val</span> vseek</span> : <code class="type">('a, 'b) <a href="Vector.html#TYPEvector">vector</a> -> int -> unit</code></pre>
<pre><span id="VALget_seek"><span class="keyword">val</span> get_seek</span> : <code class="type">('a, 'b) <a href="Vector.html#TYPEvector">vector</a> -> int</code></pre>
<pre><span id="VALunsafe_get"><span class="keyword">val</span> unsafe_get</span> : <code class="type">('a, 'b) <a href="Vector.html#TYPEvector">vector</a> -> int -> 'a</code></pre>
<pre><span id="VALunsafe_set"><span class="keyword">val</span> unsafe_set</span> : <code class="type">('a, 'b) <a href="Vector.html#TYPEvector">vector</a> -> int -> 'a -> unit</code></pre>
<pre><span id="VALsub_vector"><span class="keyword">val</span> sub_vector</span> : <code class="type">('a, 'b) <a href="Vector.html#TYPEvector">vector</a> -> int -> int -> int -> int -> ('a, 'b) <a href="Vector.html#TYPEvector">vector</a></code></pre>
<pre><span id="VALdevice_vec"><span class="keyword">val</span> device_vec</span> : <code class="type">('a, 'b) <a href="Vector.html#TYPEvector">vector</a> -> [< `Cuda | `OpenCL ] -> int -> <a href="Vector.html#TYPEdevice_vec">device_vec</a></code></pre>
<pre><span id="VALcopy_sub"><span class="keyword">val</span> copy_sub</span> : <code class="type">('a, 'b) <a href="Vector.html#TYPEvector">vector</a> -> ('a, 'b) <a href="Vector.html#TYPEvector">vector</a> -> unit</code></pre>
<pre><span id="VALof_bigarray_shr"><span class="keyword">val</span> of_bigarray_shr</span> : <code class="type">('a, 'b) <a href="Vector.html#TYPEkind">kind</a> -><br>       ('a, 'b, Bigarray.c_layout) Bigarray.Array1.t -> ('a, 'b) <a href="Vector.html#TYPEvector">vector</a></code></pre>
<pre><span id="VALto_bigarray_shr"><span class="keyword">val</span> to_bigarray_shr</span> : <code class="type">('a, 'b) <a href="Vector.html#TYPEvector">vector</a> -> ('a, 'b, Bigarray.c_layout) Bigarray.Array1.t</code></pre></body></html>